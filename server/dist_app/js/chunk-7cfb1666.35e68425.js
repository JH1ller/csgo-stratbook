(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cfb1666"],{"9f98":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-view"},[a("SketchTool",{attrs:{map:"DUST_2",userName:e.userName,stratName:e.stratName,roomId:e.roomId,showConfigBtn:!0},on:{"show-connection-dialog":function(t){e.showConnectionDialog=!0},"update-room-id":e.changeRoomId,"update-strat-name":e.changeStratName}}),e.showConnectionDialog?a("ConnectionDialog",{attrs:{userName:e.userName,stratName:e.stratName},on:{submit:e.handleSubmit}}):e._e()],1)},s=[],i=a("d4ec"),r=a("bee2"),n=a("262e"),c=a("2caf"),m=(a("5319"),a("ac1f"),a("b0c0"),a("fb6a"),a("9ab4")),u=a("60a3"),l=a("ba13"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BackdropDialog",[a("TextInput",{staticClass:"connection-dialog__text-field",attrs:{field:e.formFields.userName},model:{value:e.formFields.userName.value,callback:function(t){e.$set(e.formFields.userName,"value",t)},expression:"formFields.userName.value"}}),a("TextInput",{staticClass:"connection-dialog__text-field",attrs:{field:e.formFields.stratName},model:{value:e.formFields.stratName.value,callback:function(t){e.$set(e.formFields.stratName,"value",t)},expression:"formFields.stratName.value"}}),a("button",{staticClass:"connection-dialog__submit",on:{click:e.handleSubmitAttempt}},[e._v("Submit")])],1)},b=[],h=a("652a"),f=a("4c1e"),p=a("f5e2"),v=a("caeb"),N=a("e1bd"),g=function(e){Object(n["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.formFields={userName:new v["a"]("Username",!0,[p["a"].maxLength(30),p["a"].notEmpty()]),stratName:new v["a"]("Strat name",!1,[p["a"].maxLength(30)])},e}return Object(r["a"])(a,[{key:"handleSubmitAttempt",value:function(){Object(p["b"])(this.formFields)&&this.submit()}},{key:"submit",value:function(){return{userName:this.formFields.userName.value,stratName:this.formFields.stratName.value}}},{key:"mounted",value:function(){var e;this.formFields.userName.value=null!==(e=this.userName)&&void 0!==e?e:"User_".concat(Object(N["a"])(5)),this.formFields.stratName.value=this.stratName}}]),a}(u["h"]);Object(m["b"])([Object(u["e"])()],g.prototype,"userName",void 0),Object(m["b"])([Object(u["e"])()],g.prototype,"stratName",void 0),Object(m["b"])([Object(u["b"])()],g.prototype,"submit",null),g=Object(m["b"])([Object(u["a"])({components:{BackdropDialog:h["a"],TextInput:f["a"]}})],g);var j=g,O=j,w=(a("a57a"),a("2877")),S=Object(w["a"])(O,d,b,!1,null,null,null),k=S.exports,y=a("0a4f"),I=function(e){Object(n["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.userName="",e.stratName="",e.roomId="",e.showConnectionDialog=!1,e}return Object(r["a"])(a,[{key:"handleSubmit",value:function(e){var t=e.userName,a=e.stratName;this.userName=t,this.stratName=a,this.storageService.set("draw-username",t),this.showConnectionDialog=!1}},{key:"changeRoomId",value:function(e){this.roomId=e,this.storageService.set("draw-room-id",e),this.$route.params.roomId||this.$router.replace({path:"/map/".concat(e)})}},{key:"changeStratName",value:function(e){this.stratName=e}},{key:"mounted",value:function(){var e,t=this.storageService.get("draw-username");this.profile?this.userName=this.profile.name:t&&(this.userName=t);var a=this.storageService.get("draw-room-id");if(this.$route.params.roomId)this.changeRoomId(this.$route.params.roomId);else if(null===(e=this.profile)||void 0===e?void 0:e.team)this.changeRoomId(this.profile.team.slice(0,10));else if(a)this.changeRoomId(a);else this.storageService.get("draw-data")}}]),a}(u["h"]);Object(m["b"])([Object(u["c"])()],I.prototype,"storageService",void 0),Object(m["b"])([y["b"].State],I.prototype,"profile",void 0),I=Object(m["b"])([Object(u["a"])({components:{SketchTool:l["a"],ConnectionDialog:k}})],I);var F=I,_=F,x=(a("b4bc"),Object(w["a"])(_,o,s,!1,null,null,null));t["default"]=x.exports},a57a:function(e,t,a){"use strict";a("f654c")},b4bc:function(e,t,a){"use strict";a("b6ea")},b6ea:function(e,t,a){},f654c:function(e,t,a){}}]);