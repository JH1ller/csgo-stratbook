{"version":3,"sources":["webpack:///./src/views/ProfileView/components/ProfileForm/ProfileForm.scss?69a6","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/utils/isEmptyIterable.ts","webpack:///./src/views/ProfileView/ProfileView.vue?ad3a","webpack:///./src/views/ProfileView/components/ProfileForm/ProfileForm.vue?2f49","webpack:///./src/views/ProfileView/components/ProfileForm/ProfileForm.ts","webpack:///./src/views/ProfileView/components/ProfileForm/ProfileForm.ts?cea9","webpack:///./src/views/ProfileView/components/ProfileForm/ProfileForm.vue","webpack:///./src/views/ProfileView/ProfileView.ts","webpack:///./src/views/ProfileView/ProfileView.ts?0818","webpack:///./src/views/ProfileView/ProfileView.vue","webpack:///./src/components/ImageUploader/ImageUploader.vue?096f","webpack:///./src/components/ImageUploader/ImageUploader.ts","webpack:///./src/components/ImageUploader/ImageUploader.ts?c25e","webpack:///./src/components/ImageUploader/ImageUploader.vue","webpack:///./src/views/ProfileView/ProfileView.scss?5e7a","webpack:///./src/components/ImageUploader/ImageUploader.scss?8ed7"],"names":["_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","length","done","value","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","iterable","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","profile","on","updateProfile","avatar","logoutRequest","_v","staticRenderFns","$event","preventDefault","handleSubmit","formFields","name","model","callback","$$v","$set","expression","email","password","repeatField","files","FormField","matches","mapToFields","validate","submit","requestFormData","FormData","append","Object","entries","key","data","isEmptyIterable","keys","$emit","components","TextInput","ImageUploader","component","logout","$router","push","Login","isConfirmed","$route","query","confirmed","showToast","id","text","Action","State","ProfileForm","limit","filesSelected","fileString","_l","image","uri","removeImage","class","images","fileList","from","target","input","filter","file","currentFiles","forEach","fileReader","FileReader","onload","result","readAsDataURL","default"],"mappings":"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","file":"js/chunk-29b784e8.04797fc2.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./ProfileForm.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./ProfileForm.scss?vue&type=style&index=0&lang=scss&\"","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export const isEmptyIterable = (iterable: IterableIterator<any>): boolean => {\r\n  for (const _ of iterable) {\r\n    // eslint-disable-line no-unused-vars\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile-view\"},[_c('div',{staticClass:\"profile-view__content\"},[_c('ProfileForm',{staticClass:\"profile-view__detail\",attrs:{\"profile\":_vm.profile},on:{\"submit\":_vm.updateProfile}}),_c('img',{staticClass:\"profile-view__avatar\",attrs:{\"src\":_vm.avatar,\"alt\":\"Current User Avatar\"}}),_c('button',{staticClass:\"profile-view__logout\",on:{\"click\":_vm.logoutRequest}},[_vm._v(\"Logout\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"profile-form\",attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('h2',{staticClass:\"profile-form__headline\"},[_vm._v(\"Edit profile\")]),_c('TextInput',{staticClass:\"profile-form__input\",attrs:{\"field\":_vm.formFields.name,\"fieldName\":\"name\"},model:{value:(_vm.formFields.name.value),callback:function ($$v) {_vm.$set(_vm.formFields.name, \"value\", $$v)},expression:\"formFields.name.value\"}}),_c('TextInput',{staticClass:\"profile-form__input\",attrs:{\"field\":_vm.formFields.email,\"fieldName\":\"email\"},model:{value:(_vm.formFields.email.value),callback:function ($$v) {_vm.$set(_vm.formFields.email, \"value\", $$v)},expression:\"formFields.email.value\"}}),_c('TextInput',{staticClass:\"profile-form__input\",attrs:{\"field\":_vm.formFields.password,\"type\":\"password\",\"fieldName\":\"password\"},model:{value:(_vm.formFields.password.value),callback:function ($$v) {_vm.$set(_vm.formFields.password, \"value\", $$v)},expression:\"formFields.password.value\"}}),_c('TextInput',{staticClass:\"profile-form__input\",attrs:{\"field\":_vm.repeatField,\"type\":\"password\",\"fieldName\":\"password-repeat\"},model:{value:(_vm.repeatField.value),callback:function ($$v) {_vm.$set(_vm.repeatField, \"value\", $$v)},expression:\"repeatField.value\"}}),_c('p',{staticClass:\"profile-form__label\"},[_vm._v(\"Change avatar:\")]),_c('ImageUploader',{staticClass:\"profile-form__uploader\",attrs:{\"limit\":1},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}}),_c('button',{staticClass:\"profile-form__btn-save\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Save\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport TextInput from '@/components/TextInput/TextInput.vue';\r\nimport ImageUploader from '@/components/ImageUploader/ImageUploader.vue';\r\nimport { Player } from '@/api/models/Player';\r\nimport { isEmptyIterable } from '@/utils/isEmptyIterable';\r\nimport FormField from '@/utils/FormField';\r\nimport { Validators } from '@/utils/validation';\r\n\r\n@Component({\r\n  components: {\r\n    TextInput,\r\n    ImageUploader,\r\n  },\r\n})\r\nexport default class ProfileForm extends Vue {\r\n  @Prop() profile!: Player;\r\n\r\n  private formFields: Record<string, FormField> = {\r\n    name: new FormField('Name', false, []),\r\n    email: new FormField('Email', false, []),\r\n    password: new FormField('New password', false, []),\r\n  };\r\n\r\n  private repeatField = new FormField('Repeat new password', false, [Validators.matches(this.formFields.password)]);\r\n\r\n  // * array because ImageUploader component expects array here, although limit is 1\r\n  private files: File[] = [];\r\n\r\n  private mounted() {\r\n    this.mapToFields();\r\n  }\r\n\r\n  @Watch('profile')\r\n  private profileUpdated() {\r\n    this.mapToFields();\r\n  }\r\n\r\n  private mapToFields() {\r\n    this.formFields.name.value = this.profile.name;\r\n    this.formFields.email.value = this.profile.email;\r\n    this.formFields.password.value = '';\r\n    this.repeatField.value = '';\r\n    this.files = [];\r\n  }\r\n\r\n  private handleSubmit() {\r\n    if (this.repeatField.validate()) {\r\n      this.submit();\r\n    }\r\n  }\r\n\r\n  private submit() {\r\n    const requestFormData = new FormData();\r\n\r\n    if (this.files.length) {\r\n      requestFormData.append('avatar', this.files[0], this.files[0].name);\r\n    }\r\n\r\n    for (const [key, data] of Object.entries(this.formFields)) {\r\n      if (data.value && data.value !== this.profile[key as keyof Player]) {\r\n        requestFormData.append(key, data.value);\r\n      }\r\n    }\r\n\r\n    if (!isEmptyIterable(requestFormData.keys())) this.$emit('submit', requestFormData);\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/eslint-loader/index.js??ref--13-0!./ProfileForm.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/eslint-loader/index.js??ref--13-0!./ProfileForm.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProfileForm.vue?vue&type=template&id=1601b0e4&\"\nimport script from \"./ProfileForm.ts?vue&type=script&lang=ts&\"\nexport * from \"./ProfileForm.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ProfileForm.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Component, Vue } from 'vue-property-decorator';\r\nimport { Routes } from '@/router/router.models';\r\nimport { appModule, authModule } from '@/store/namespaces';\r\nimport { Player } from '@/api/models/Player';\r\nimport ProfileForm from './components/ProfileForm/ProfileForm.vue';\r\nimport { resolveStaticImageUrl } from '@/utils/resolveUrls';\r\nimport { Toast } from '@/components/ToastWrapper/ToastWrapper.models';\r\n@Component({\r\n  components: {\r\n    ProfileForm,\r\n  },\r\n})\r\nexport default class ProfileView extends Vue {\r\n  @appModule.Action private showToast!: (toast: Toast) => void;\r\n  @authModule.State profile!: Player;\r\n  @authModule.Action private logout!: () => Promise<void>;\r\n  @authModule.Action private updateProfile!: (data: FormData) => Promise<void>;\r\n\r\n  private async logoutRequest() {\r\n    await this.logout();\r\n    this.$router.push(Routes.Login);\r\n  }\r\n\r\n  private get avatar() {\r\n    return resolveStaticImageUrl(this.profile.avatar);\r\n  }\r\n\r\n  private mounted() {\r\n    const isConfirmed = !!this.$route.query.confirmed;\r\n    if (isConfirmed) {\r\n      this.showToast({ id: 'ProfileView/emailConfirmed', text: 'Your new email has been confirmed.' });\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ProfileView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ProfileView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProfileView.vue?vue&type=template&id=3aef337b&\"\nimport script from \"./ProfileView.ts?vue&type=script&lang=ts&\"\nexport * from \"./ProfileView.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ProfileView.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-uploader\"},[_c('label',{staticClass:\"image-uploader__input\"},[_c('input',{attrs:{\"type\":\"file\",\"id\":\"file\",\"multiple\":_vm.limit > 1,\"accept\":\"image/*\",\"disabled\":_vm.value.length >= _vm.limit},on:{\"change\":_vm.filesSelected}}),_c('span',{attrs:{\"file-input-value\":_vm.fileString}})]),_c('div',{staticClass:\"image-uploader__preview\"},[_vm._l((_vm.images),function(image){return _c('div',{key:image.uri,staticClass:\"image-uploader__preview-item\"},[_c('img',{staticClass:\"image-uploader__image\",attrs:{\"src\":image.uri,\"alt\":\"\"}}),_c('fa-icon',{staticClass:\"image-uploader__icon\",attrs:{\"icon\":\"times\"},on:{\"click\":function($event){return _vm.removeImage(image)}}})],1)}),_c('span',{staticClass:\"image-uploader__preview-placeholder\",class:{ '-has-content': _vm.images.length }},[_vm._v(\"No images selected\")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component, Emit, Prop, Vue, Watch } from 'vue-property-decorator';\r\n\r\ninterface ImageFile {\r\n  file: File;\r\n  uri: string;\r\n}\r\n\r\n@Component({})\r\nexport default class UploadPreview extends Vue {\r\n  @Prop() value!: File[];\r\n  @Prop({ default: 1 }) limit!: number;\r\n\r\n  private images: ImageFile[] = [];\r\n\r\n  private filesSelected($event: InputEvent): void {\r\n    const fileList = Array.from(($event.target as HTMLInputElement).files!);\r\n    if (fileList.length) {\r\n      this.input([...this.value, ...fileList]);\r\n    }\r\n  }\r\n\r\n  private removeImage(image: ImageFile) {\r\n    this.input(this.value.filter(file => file !== image.file));\r\n  }\r\n\r\n  private get fileString() {\r\n    return this.value.length\r\n      ? `${this.value.length} file${this.value.length > 1 ? 's' : ''} selected. ${\r\n          this.value.length > this.limit\r\n            ? `Remove ${this.value.length - this.limit} file${this.value.length > 1 ? 's' : ''}.`\r\n            : ''\r\n        }`\r\n      : `Choose ${this.limit > 1 ? 'up to ' + this.limit : 'a'} file${this.limit > 1 ? 's' : ''}...`;\r\n  }\r\n\r\n  @Emit()\r\n  private input(files: File[]): File[] {\r\n    return files;\r\n  }\r\n\r\n  @Watch('value')\r\n  private filesChanged(currentFiles: File[]) {\r\n    this.images = [];\r\n\r\n    currentFiles.forEach(file => {\r\n      const fileReader = new FileReader();\r\n\r\n      fileReader.onload = () =>\r\n        this.images.push({\r\n          file: file,\r\n          uri: fileReader.result as string,\r\n        });\r\n\r\n      fileReader.readAsDataURL(file);\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ImageUploader.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ImageUploader.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageUploader.vue?vue&type=template&id=1dbe2929&\"\nimport script from \"./ImageUploader.ts?vue&type=script&lang=ts&\"\nexport * from \"./ImageUploader.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ImageUploader.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./ProfileView.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./ProfileView.scss?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./ImageUploader.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./ImageUploader.scss?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}