(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cfb1666"],{"9f98":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-view"},[a("SketchTool",{attrs:{map:"DUST_2",userName:e.userName,stratName:e.stratName,roomId:e.roomId,showConfigBtn:!0},on:{"show-connection-dialog":function(t){e.showConnectionDialog=!0},"update-room-id":e.changeRoomId,"update-strat-name":e.changeStratName}}),e.showConnectionDialog?a("ConnectionDialog",{attrs:{userName:e.userName,stratName:e.stratName},on:{submit:e.handleSubmit,close:function(t){e.showConnectionDialog=!1}}}):e._e()],1)},s=[],i=a("d4ec"),n=a("bee2"),r=a("262e"),c=a("2caf"),l=(a("5319"),a("ac1f"),a("b0c0"),a("fb6a"),a("9ab4")),u=a("60a3"),m=a("ba13"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BackdropDialog",[a("TextInput",{staticClass:"connection-dialog__text-field",attrs:{field:e.formFields.userName},model:{value:e.formFields.userName.value,callback:function(t){e.$set(e.formFields.userName,"value",t)},expression:"formFields.userName.value"}}),a("TextInput",{staticClass:"connection-dialog__text-field",attrs:{field:e.formFields.stratName},model:{value:e.formFields.stratName.value,callback:function(t){e.$set(e.formFields.stratName,"value",t)},expression:"formFields.stratName.value"}}),a("div",{staticClass:"connection-dialog__actions"},[a("button",{staticClass:"connection-dialog__btn-submit",on:{click:e.handleSubmitAttempt}},[e._v("Submit")]),a("button",{staticClass:"connection-dialog__btn-cancel",on:{click:e.close}},[e._v("Cancel")])])],1)},b=[],h=a("652a"),f=a("4c1e"),v=a("f5e2"),p=a("caeb"),N=a("e1bd"),g=a("dd8e"),j=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.formFields={userName:new p["a"]("Username",!0,[v["a"].maxLength(30),v["a"].notEmpty()]),stratName:new p["a"]("Strat name",!1,[v["a"].maxLength(30)])},e}return Object(n["a"])(a,[{key:"handleSubmitAttempt",value:function(){Object(v["b"])(this.formFields)&&this.submit()}},{key:"submit",value:function(){return{userName:this.formFields.userName.value,stratName:this.formFields.stratName.value}}},{key:"mounted",value:function(){var e;this.formFields.userName.value=null!==(e=this.userName)&&void 0!==e?e:"User_".concat(Object(N["a"])(5)),this.formFields.stratName.value=this.stratName}}]),a}(Object(u["d"])(g["a"]));Object(l["b"])([Object(u["e"])()],j.prototype,"userName",void 0),Object(l["b"])([Object(u["e"])()],j.prototype,"stratName",void 0),Object(l["b"])([Object(u["b"])()],j.prototype,"submit",null),j=Object(l["b"])([Object(u["a"])({components:{BackdropDialog:h["a"],TextInput:f["a"]}})],j);var O=j,w=O,_=(a("a57a"),a("2877")),k=Object(_["a"])(w,d,b,!1,null,null,null),S=k.exports,y=a("0a4f"),C=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.userName="",e.stratName="",e.roomId="",e.showConnectionDialog=!1,e}return Object(n["a"])(a,[{key:"handleSubmit",value:function(e){var t=e.userName,a=e.stratName;this.userName=t,this.stratName=a,this.storageService.set("draw-username",t),this.showConnectionDialog=!1}},{key:"changeRoomId",value:function(e){this.roomId=e,this.storageService.set("draw-room-id",e),this.$route.params.roomId||this.$router.replace({path:"/map/".concat(e)})}},{key:"changeStratName",value:function(e){this.stratName=e}},{key:"mounted",value:function(){var e,t,a=this.storageService.get("draw-username");(null===(e=this.profile)||void 0===e?void 0:e.name)?this.userName=this.profile.name:a&&(this.userName=a);var o=this.storageService.get("draw-room-id");if(this.$route.params.roomId)this.changeRoomId(this.$route.params.roomId);else if(null===(t=this.profile)||void 0===t?void 0:t.team)this.changeRoomId(this.profile.team.slice(0,10));else if(o)this.changeRoomId(o);else this.storageService.get("draw-data")}}]),a}(u["h"]);Object(l["b"])([Object(u["c"])()],C.prototype,"storageService",void 0),Object(l["b"])([y["b"].State],C.prototype,"profile",void 0),C=Object(l["b"])([Object(u["a"])({components:{SketchTool:m["a"],ConnectionDialog:S}})],C);var I=C,F=I,x=(a("b4bc"),Object(_["a"])(F,o,s,!1,null,null,null));t["default"]=x.exports},a57a:function(e,t,a){"use strict";a("f654c")},b4bc:function(e,t,a){"use strict";a("b6ea")},b6ea:function(e,t,a){},f654c:function(e,t,a){}}]);